<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shop - Wild Jasmine</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/store.css">
</head>
<body>
    <!-- Header - Same as home page -->
    <header>
        <div class="container">
            <nav>
                <a href="#" class="logo">
                    <img src="/api/placeholder/40/40" alt="Wild Jasmine Logo">
                    Wild Jasmine
                </a>
                <ul class="nav-links">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="shop.html" class="active">Shop</a></li>
                    <li><a href="#">About</a></li>
                    <li><a href="#">Blog</a></li>
                    <li><a href="#">Contact</a></li>
                </ul>

                <!-- Dark Mode Toggle -->
                <div class="toggle-container">
                    <span class="toggle-label">Dark</span>
                    <label class="toggle">
                        <input type="checkbox" id="darkModeToggle">
                        <span class="slider"></span>
                    </label>
                </div>

                <!-- Cart Icon -->
                <div class="cart-icon">
                    <i>🛒</i>
                    <span class="cart-count">0</span>
                </div>

                <!-- Mobile Menu -->
                <div class="mobile-menu">
                    <i>☰</i>
                </div>
            </nav>
        </div>
    </header>

    <!-- Shop Hero -->
    <section class="shop-hero">
        <div class="container">
            <div>
                <h1>Our Natural Products</h1>
                <p>Discover handcrafted beauty products made with organic ingredients and sustainable practices</p>
            </div>
        </div>
    </section>

    <!-- Shop Content -->
    <div class="container">
        <div class="shop-content">
            <!-- Filters Sidebar -->
            <aside class="filters">
                <div class="filter-section">
                    <h3>Categories</h3>
                    <ul class="filter-options">
                        <li>
                            <label>
                                <input type="checkbox" checked name="category" value="all"> All Products
                            </label>
                        </li>
                        <li>
                            <label>
                                <input type="checkbox" name="category" value="skincare"> Skincare
                            </label>
                        </li>
                        <li>
                            <label>
                                <input type="checkbox" name="category" value="bath"> Bath & Body
                            </label>
                        </li>
                        <li>
                            <label>
                                <input type="checkbox" name="category" value="candles"> Candles
                            </label>
                        </li>
                        <li>
                            <label>
                                <input type="checkbox" name="category" value="gift"> Gift Sets
                            </label>
                        </li>
                        <li>
                            <label>
                                <input type="checkbox" name="category" value="oils"> Essential Oils
                            </label>
                        </li>
                    </ul>
                </div>

                <div class="filter-section">
                    <h3>Price Range</h3>
                    <input type="range" class="price-range" id="priceRange" min="0" max="1000" value="1000">
                    <div class="price-values">
                        <span>R0</span>
                        <span id="maxPriceValue">R1000+</span>
                    </div>
                </div>

                <div class="filter-section">
                    <h3>Features</h3>
                    <ul class="filter-options">
                        <li>
                            <label>
                                <input type="checkbox" name="feature" value="organic"> Organic
                            </label>
                        </li>
                        <li>
                            <label>
                                <input type="checkbox" name="feature" value="vegan"> Vegan
                            </label>
                        </li>
                        <li>
                            <label>
                                <input type="checkbox" name="feature" value="cruelty-free"> Cruelty-Free
                            </label>
                        </li>
                        <li>
                            <label>
                                <input type="checkbox" name="feature" value="bestseller"> Best Sellers
                            </label>
                        </li>
                        <li>
                            <label>
                                <input type="checkbox" name="feature" value="new"> New Arrivals
                            </label>
                        </li>
                    </ul>
                </div>

                <button class="filter-btn" id="applyFilters">Apply Filters</button>
            </aside>

            <!-- Products Section -->
            <main class="products">
                <div class="products-header">
                    <h2>All Products</h2>
                    <div class="sort-by">
                        <span>Sort by:</span>
                        <select id="sortProducts">
                            <option value="featured">Featured</option>
                            <option value="lowToHigh">Price: Low to High</option>
                            <option value="highToLow">Price: High to Low</option>
                            <option value="newest">Newest</option>
                            <option value="bestselling">Best Selling</option>
                        </select>
                    </div>
                </div>

                <div class="products-grid" id="productsGrid">
                    <!-- Product 1 -->
                    <div class="product-card" data-category="bath" data-price="429.99" data-features="new,organic">
                        <div class="product-img-container">
                            <img src="pics/store/bath 3.jpg" alt="Bath bombs" class="product-img">
                            <span class="product-badge">New</span>
                        </div>
                        <div class="product-content">
                            <h3 class="product-title">Lavender Dream Bath Bombs</h3>
                            <span class="product-category">Bath</span>
                            <p>Set of 4 relaxing bath bombs infused with pure lavender essential oil, perfect for unwinding after a long day. Made with organic ingredients that nourish your skin.</p>
                            <div class="product-price">
                                <div>
                                    <span class="price">R429.99</span>
                                </div>
                                <button class="add-to-cart" data-id="1">+</button>
                            </div>
                        </div>
                    </div>

                    <!-- Product 2 -->
                    <div class="product-card" data-category="candles" data-price="249.99" data-features="bestseller,vegan">
                        <div class="product-img-container">
                            <img src="pics/store/candle4.jpg" alt="Candle" class="product-img">
                            <span class="product-badge">Best Seller</span>
                        </div>
                        <div class="product-content">
                            <h3 class="product-title">Havana Nights Soy Candle</h3>
                            <span class="product-category">Candles</span>
                            <p>Handmade soy wax candle with notes of warm vanilla, tobacco, and citrus. Burns for up to 40 hours and fills your home with a cozy, inviting aroma.</p>
                            <div class="product-price">
                                <div>
                                    <span class="price">R249.99</span>
                                </div>
                                <button class="add-to-cart" data-id="2">+</button>
                            </div>
                        </div>
                    </div>

                    <!-- Product 3 -->
                    <div class="product-card" data-category="oils" data-price="549.99" data-features="organic,vegan,cruelty-free">
                        <div class="product-img-container">
                            <img src="pics/store/drops.jpg" alt="Essential oil" class="product-img">
                            <span class="product-badge">Organic</span>
                        </div>
                        <div class="product-content">
                            <h3 class="product-title">Wellness Essential Oil Collection</h3>
                            <span class="product-category">Oils</span>
                            <p>Set of 3 therapeutic-grade essential oils including eucalyptus, tea tree, and peppermint. Sourced from sustainable farms and perfect for aromatherapy or diffuser use.</p>
                            <div class="product-price">
                                <div>
                                    <span class="price">R549.99</span>
                                </div>
                                <button class="add-to-cart" data-id="3">+</button>
                            </div>
                        </div>
                    </div>

                    <!-- Product 4 -->
                    <div class="product-card" data-category="candles" data-price="349.99" data-features="vegan,cruelty-free">
                        <div class="product-img-container">
                            <img src="pics/store/frag 3.jpg" alt="Wax melts" class="product-img">
                        </div>
                        <div class="product-content">
                            <h3 class="product-title">Botanical Wax Melts Collection</h3>
                            <span class="product-category">Candles</span>
                            <p>Set of 12 handcrafted soy wax melts in four seasonal scents. Long-lasting fragrance without the flame, perfect for any wax warmer or diffuser.</p>
                            <div class="product-price">
                                <div>
                                    <span class="old-price">R399.99</span>
                                    <span class="price">R349.99</span>
                                </div>
                                <button class="add-to-cart" data-id="4">+</button>
                            </div>
                        </div>
                    </div>

                    <!-- Product 5 -->
                    <div class="product-card" data-category="oils" data-price="399.99" data-features="organic,cruelty-free">
                        <div class="product-img-container">
                            <img src="pics/store/frag1.jpg" alt="oils" class="product-img">
                        </div>
                        <div class="product-content">
                            <h3 class="product-title">Sleep & Relaxation Oil Blend</h3>
                            <span class="product-category">Bath & Body</span>
                            <p>Ultra-concentrated blend of lavender, chamomile, and ylang-ylang essential oils. Add a few drops to your bath or diffuser to promote deep relaxation and better sleep.</p>
                            <div class="product-price">
                                <div>
                                    <span class="price">R399.99</span>
                                </div>
                                <button class="add-to-cart" data-id="5">+</button>
                            </div>
                        </div>
                    </div>

                    <!-- Product 6 -->
                    <div class="product-card" data-category="gift" data-price="899.99" data-features="gift,organic,vegan">
                        <div class="product-img-container">
                            <img src="pics/store/frag2 .jpg" alt="Gift Set" class="product-img">
                            <span class="product-badge">Gift</span>
                        </div>
                        <div class="product-content">
                            <h3 class="product-title">Sacred Cedar Incense Collection</h3>
                            <span class="product-category">Gift Sets</span>
                            <p>Premium handcrafted incense sticks made from sustainably harvested cedar wood and natural resins. Set includes an elegant ceramic holder and 30 sticks in three signature scents.</p>
                            <div class="product-price">
                                <div>
                                    <span class="price">R899.99</span>
                                </div>
                                <button class="add-to-cart" data-id="6">+</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Pagination -->
                <div class="pagination">
                    <a href="#" class="page-link">&laquo;</a>
                    <a href="#" class="page-link active">1</a>
                    <a href="#" class="page-link">2</a>
                    <a href="#" class="page-link">3</a>
                    <a href="#" class="page-link">&raquo;</a>
                </div>
            </main>
        </div>
    </div>

    <!-- Footer - Same as home page -->
    <footer>
        <div class="container">
            <div class="footer-grid">
                <div class="footer-widget">
                    <h4>Wild Jasmine</h4>
                    <p>Handcrafted natural beauty products made with love and respect for nature.</p>
                    <div class="social-links">
                        <a href="#" class="social-link">
                            <i>📱</i>
                        </a>
                        <a href="#" class="social-link">
                            <i>📸</i>
                        </a>
                        <a href="#" class="social-link">
                            <i>🐦</i>
                        </a>
                        <a href="#" class="social-link">
                            <i>📌</i>
                        </a>
                    </div>
                </div>
                <div class="footer-widget">
                    <h4>Shop</h4>
                    <ul class="footer-links">
                        <li><a href="#">Skincare</a></li>
                        <li><a href="#">Bath & Body</a></li>
                        <li><a href="#">Candles</a></li>
                        <li><a href="#">Gift Sets</a></li>
                        <li><a href="#">New Arrivals</a></li>
                    </ul>
                </div>
                <div class="footer-widget">
                    <h4>About</h4>
                    <ul class="footer-links">
                        <li><a href="#">Our Story</a></li>
                        <li><a href="#">Sustainability</a></li>
                        <li><a href="#">Ingredients</a></li>
                        <li><a href="#">Blog</a></li>
                        <li><a href="#">Contact Us</a></li>
                    </ul>
                </div>
                <div class="footer-widget">
                    <h4>Customer Care</h4>
                    <ul class="footer-links">
                        <li><a href="#">Shipping & Returns</a></li>
                        <li><a href="#">FAQ</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                        <li><a href="#">Terms & Conditions</a></li>
                        <li><a href="#">Track Order</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Wild Jasmine. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Dark Mode Toggle (same as home page)
        const darkModeToggle = document.getElementById('darkModeToggle');
        const body = document.body;

        if (localStorage.getItem('darkMode') === 'enabled') {
            body.classList.add('dark-mode');
            darkModeToggle.checked = true;
        }

        darkModeToggle.addEventListener('change', () => {
            if (darkModeToggle.checked) {
                body.classList.add('dark-mode');
                localStorage.setItem('darkMode', 'enabled');
            } else {
                body.classList.remove('dark-mode');
                localStorage.setItem('darkMode', null);
            }
        });

        // Cart functionality
        const cart = JSON.parse(localStorage.getItem('cart')) || [];
        const cartCount = document.querySelector('.cart-count');
        
        // Update cart count display
        function updateCartCount() {
            const count = cart.reduce((total, item) => total + item.quantity, 0);
            cartCount.textContent = count;
        }
        
        // Add to cart functionality
        document.querySelectorAll('.add-to-cart').forEach(button => {
            button.addEventListener('click', () => {
                const productCard = button.closest('.product-card');
                const productId = button.getAttribute('data-id');
                const productTitle = productCard.querySelector('.product-title').textContent;
                const productPrice = parseFloat(productCard.querySelector('.price').textContent.replace('R', ''));
                const productImg = productCard.querySelector('.product-img').getAttribute('src');
                
                // Check if product already in cart
                const existingItemIndex = cart.findIndex(item => item.id === productId);
                
                if (existingItemIndex > -1) {
                    cart[existingItemIndex].quantity += 1;
                } else {
                    cart.push({
                        id: productId,
                        title: productTitle,
                        price: productPrice,
                        img: productImg,
                        quantity: 1
                    });
                }
                
                // Save cart to localStorage
                localStorage.setItem('cart', JSON.stringify(cart));
                updateCartCount();
                
                // Visual feedback
                button.textContent = '✓';
                setTimeout(() => {
                    button.textContent = '+';
                }, 1000);
            });
        });
        
        // Initialize cart count
        updateCartCount();

        // Price Range Filter
        const priceRange = document.getElementById('priceRange');
        const maxPriceValue = document.getElementById('maxPriceValue');
        
        priceRange.addEventListener('input', () => {
            maxPriceValue.textContent = `R${priceRange.value}${priceRange.value == priceRange.max ? '+' : ''}`;
        });

        // Filter and Sort Products
        const productsGrid = document.getElementById('productsGrid');
        const productCards = document.querySelectorAll('.product-card');
        const applyFiltersBtn = document.getElementById('applyFilters');
        const sortSelect = document.getElementById('sortProducts');
        
        function filterProducts() {
            const selectedCategories = getSelectedValues('category');
            const selectedFeatures = getSelectedValues('feature');
            const maxPrice = parseInt(priceRange.value);
            
            productCards.forEach(card => {
                const price = parseFloat(card.getAttribute('data-price'));
                const category = card.getAttribute('data-category');
                const features = card.getAttribute('data-features').split(',');
                
                let categoryMatch = selectedCategories.includes('all') || selectedCategories.includes(category);
                let featureMatch = selectedFeatures.length === 0 || selectedFeatures.some(f => features.includes(f));
                let priceMatch = price <= maxPrice;
                
                if (categoryMatch && featureMatch && priceMatch) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }
        
        function getSelectedValues(name) {
            return Array.from(document.querySelectorAll(`input[name="${name}"]:checked`))
                .map(input => input.value);
        }
        
        function sortProducts() {
            const sortBy = sortSelect.value;
            const products = Array.from(productCards);
            
            products.sort((a, b) => {
                switch(sortBy) {
                    case 'lowToHigh':
                        return parseFloat(a.getAttribute('data-price')) - parseFloat(b.getAttribute('data-price'));
                    case 'highToLow':
                        return parseFloat(b.getAttribute('data-price')) - parseFloat(a.getAttribute('data-price'));
                    case 'newest':
                        return a.getAttribute('data-features').includes('new') ? -1 : 1;
                    case 'bestselling':
                        return a.getAttribute('data-features').includes('bestseller') ? -1 : 1;
                    default:
                        return 0;
                }
            });
            
            productsGrid.innerHTML = '';
            products.forEach(product => {
                if (product.style.display !== 'none') {
                    productsGrid.appendChild(product);
                }
            });
        }
        
        // Apply filters and sort when button clicked
        applyFiltersBtn.addEventListener('click', () => {
            filterProducts();
            sortProducts();
        });
        
        // Apply sorting when select changed
        sortSelect.addEventListener('change', () => {
            sortProducts();
        });
        
        // Category exclusive selection logic
        document.querySelectorAll('input[name="category"]').forEach(checkbox => {
            checkbox.addEventListener('change', (e) => {
                if (e.target.value === 'all' && e.target.checked) {
                    // Uncheck all other category checkboxes
                    document.querySelectorAll('input[name="category"]').forEach(cb => {
                        if (cb.value !== 'all') cb.checked = false;
                    });
                } else if (e.target.checked) {
                    // Uncheck 'All Products' if any other category is selected
                    document.querySelector('input[value="all"]').checked = false;
                }
                
                // Ensure at least one category is selected
                const anyChecked = Array.from(document.querySelectorAll('input[name="category"]')).some(cb => cb.checked);
                if (!anyChecked) {
                    document.querySelector('input[value="all"]').checked = true;
                }
            });
        });
    </script>
</body>
</html>